<div class="container">
    <div map></div>

    <form ng-if="isNew" ng-submit="submitTrip()" class="cityForm">
        <div class="form-group" auto-fill></div>
        <div class="form-group">
            <label for="comment">Comment</label>
            <textarea name="comment" id="comment" ng-model="trip.comment"></textarea>
        </div>
        <div class="form-group">
            <button ng-click="cancelForm()" class="btn btn-primary btn-lg">Cancel</button>
            <button type="submit" class="btn btn-primary btn-lg">Create</button>
        </div>
    </form>


    <form ng-if="isEditable" ng-submit="submitTrip()" class="cityForm">
        <div class="form-group" auto-fill></div>
        <div class="form-group">
            <label for="comment">Comment</label>
            <textarea name="comment" id="comment" ng-model="trip.comment"></textarea>
        </div>
        <div class="form-group">
            <button ng-click="cancelForm()" class="btn btn-primary btn-lg">Cancel</button>
            <button type="submit" class="btn btn-primary btn-lg">Create</button>
        </div>
    </form>


    <div ng-if="trip.errors" class="alert alert-danger">
        <h2>{{trip.errors}}</h2>
    </div>

    <button ng-click="toggleNew()" ng-if="!formVisible" 
        class="btn btn-primary btn-lg">
        New
    </button>

    <div class="table-responsive">
        <table class="table table-condensed">
            <th>Country</th>
            <th>City</th>
            <th>Comment</th>
            <th>Latitude</th>
            <th>Longitude</th>
            <th>Edit</th>
            <th>Delete</th>
            <tr ng-repeat="trip in userTrips">
                <td>{{trip.country}}</td>
                <td>{{trip.city}}</td>
                <td>{{trip.comment}}</td>
                <td>{{trip.latitude}}</td>
                <td>{{trip.longitude}}</td>
                <td><a ng-click="editTrip(trip)">
                        <span class="glyphicon glyphicon-pencil"></span>
                    </a>
                </td>
                <td><a ng-click="removeTrip(trip)">
                        <span class="glyphicon glyphicon-remove"></span>
                     </a>
                </td>
            </tr>
        </table>
    </div>
</div>
